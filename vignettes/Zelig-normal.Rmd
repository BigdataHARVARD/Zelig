<span>normal</span>: Normal Regression for Continuous Dependent Variables {#normal}
=========================================================================

The Normal regression model is a close variant of the more standard
least squares regression model (see ). Both models specify a continuous
dependent variable as a linear function of a set of explanatory
variables. The Normal model reports maximum likelihood (rather than
least squares) estimates. The two models differ only in their estimate
for the stochastic parameter $\sigma$.

### Syntax

    > z.out <- zelig(Y ~ X1 + X2, model = "normal", data = mydata)
    > x.out <- setx(z.out)
    > s.out <- sim(z.out, x = x.out)

### Additional Inputs

In addition to the standard inputs, <span>zelig()</span> takes the
following additional options for normal regression:

-   <span>robust</span>: defaults to <span>FALSE</span>. If
    <span>TRUE</span> is selected, <span>zelig()</span> computes robust
    standard errors via the <span>sandwich</span> package (see
    @Zeileis04). The default type of robust standard error is
    heteroskedastic and autocorrelation consistent (HAC), and assumes
    that observations are ordered by time index.

    In addition, <span>robust</span> may be a list with the following
    options:

    -   <span>method</span>: Choose from

        -   <span>“vcovHAC”</span>: (default if <span>robust =
            TRUE</span>) HAC standard errors.

        -   <span>“kernHAC”</span>: HAC standard errors using the
            weights given in @Andrews91.

        -   <span>“weave”</span>: HAC standard errors using the weights
            given in @LumHea99.

    -   <span>order.by</span>: defaults to <span>NULL</span> (the
        observations are chronologically ordered as in the original
        data). Optionally, you may specify a vector of weights (either
        as <span>order.by = z</span>, where <span>z</span> exists
        outside the data frame; or as <span>order.by = \~z</span>, where
        <span>z</span> is a variable in the data frame). The
        observations are chronologically ordered by the size of
        <span>z</span>.

    -   <span>…</span>: additional options passed to the functions
        specified in <span>method</span>. See the <span>sandwich</span>
        library and @Zeileis04 for more options.

### Examples

1.  Basic Example with First Differences

    Attach sample data:

    RRR\> data(macro)

    Estimate model:

    RRR\> z.out1 \<- zelig(unem   gdp + capmob + trade, model =
    “normal”, + data = macro)

    Summarize of regression coefficients:

    RRR\> summary(z.out1)

    Set explanatory variables to their default (mean/mode) values, with
    high (80th percentile) and low (20th percentile) values for trade:

    RRR\> x.high \<- setx(z.out1, trade = quantile(macro$trade, 0.8))
    RRR>  x.low <- setx(z.out1, trade = quantile(macro$trade, 0.2))

    Generate first differences for the effect of high versus low trade
    on GDP:

    RRR\> s.out1 \<- sim(z.out1, x = x.high, x1 = x.low)

    RRR\> summary(s.out1)

    A visual summary of quantities of interest:

    RRR\> plot(s.out1)

    ![image](vigpics/normal-ExamplesPlot)

### Model

Let $Y_i$ be the continuous dependent variable for observation $i$.

-   The *stochastic component* is described by a univariate normal model
    with a vector of means $\mu_i$ and scalar variance $\sigma^2$:

    $$Y_i \; \sim \; \textrm{Normal}(\mu_i, \sigma^2).$$

-   The *systematic component* is

    $$\mu_i \;= \; x_i \beta,$$

    where $x_i$ is the vector of $k$ explanatory variables and $\beta$
    is the vector of coefficients.

### Quantities of Interest

-   The expected value (<span>qi\$ev</span>) is the mean of simulations
    from the the stochastic component, $$E(Y) = \mu_i = x_i \beta,$$
    given a draw of $\beta$ from its posterior.

-   The predicted value (<span>qi\$pr</span>) is drawn from the
    distribution defined by the set of parameters $(\mu_i, \sigma)$.

-   The first difference (<span>qi\$fd</span>) is:

    $$\textrm{FD}\; = \;E(Y \mid x_1) -  E(Y \mid x)$$

-   In conditional prediction models, the average expected treatment
    effect (<span>att.ev</span>) for the treatment group is

    $$\frac{1}{\sum_{i=1}^n t_i}\sum_{i:t_i=1}^n \left\{ Y_i(t_i=1) -
          E[Y_i(t_i=0)] \right\},$$

    where $t_i$ is a binary explanatory variable defining the treatment
    ($t_i=1$) and control ($t_i=0$) groups. Variation in the simulations
    are due to uncertainty in simulating $E[Y_i(t_i=0)]$, the
    counterfactual expected value of $Y_i$ for observations in the
    treatment group, under the assumption that everything stays the same
    except that the treatment indicator is switched to $t_i=0$.

-   In conditional prediction models, the average predicted treatment
    effect (<span>att.pr</span>) for the treatment group is

    $$\frac{1}{\sum_{i=1}^n t_i}\sum_{i:t_i=1}^n \left\{ Y_i(t_i=1) -
          \widehat{Y_i(t_i=0)} \right\},$$

    where $t_i$ is a binary explanatory variable defining the treatment
    ($t_i=1$) and control ($t_i=0$) groups. Variation in the simulations
    are due to uncertainty in simulating $\widehat{Y_i(t_i=0)}$, the
    counterfactual predicted value of $Y_i$ for observations in the
    treatment group, under the assumption that everything stays the same
    except that the treatment indicator is switched to $t_i=0$.

### Output Values

The output of each Zelig command contains useful information which you
may view. For example, if you run
`z.out <- zelig(y ~ x, model = normal, data)`, then you may examine the
available information in `z.out` by using `names(z.out)`, see the
<span>coefficients</span> by using <span>z.out\$coefficients</span>, and
a default summary of information through `summary(z.out)`. Other
elements available through the <span>\$</span> operator are listed
below.

-   From the <span>zelig()</span> output object <span>z.out</span>, you
    may extract:

    -   <span>coefficients</span>: parameter estimates for the
        explanatory variables.

    -   <span>residuals</span>: the working residuals in the final
        iteration of the IWLS fit.

    -   <span>fitted.values</span>: fitted values. For the normal model,
        these are identical to the <span>linear predictors</span>.

    -   <span>linear.predictors</span>: fitted values. For the normal
        model, these are identical to <span>fitted.values</span>.

    -   <span>aic</span>: Akaike’s Information Criterion (minus twice
        the maximized log-likelihood plus twice the number of
        coefficients).

    -   <span>df.residual</span>: the residual degrees of freedom.

    -   <span>df.null</span>: the residual degrees of freedom for the
        null model.

    -   <span>zelig.data</span>: the input data frame if <span>save.data
        = TRUE</span>.

-   From <span>summary(z.out)</span>, you may extract:

    -   <span>coefficients</span>: the parameter estimates with their
        associated standard errors, $p$-values, and $t$-statistics.

    -   <span>cov.scaled</span>: a $k \times k$ matrix of scaled
        covariances.

    -   <span>cov.unscaled</span>: a $k \times k$ matrix of unscaled
        covariances.

-   From the <span>sim()</span> output object <span>s.out</span>, you
    may extract quantities of interest arranged as matrices indexed by
    simulation $\times$ <span>x</span>-observation (for more than one
    <span>x</span>-observation). Available quantities are:

    -   <span>qi\$ev</span>: the simulated expected values for the
        specified values of <span>x</span>.

    -   <span>qi\$pr</span>: the simulated predicted values drawn from
        the distribution defined by $(\mu_i, \sigma)$.

    -   <span>qi\$fd</span>: the simulated first difference in the
        simulated expected values for the values specified in
        <span>x</span> and <span>x1</span>.

    -   <span>qi\$att.ev</span>: the simulated average expected
        treatment effect for the treated from conditional prediction
        models.

    -   <span>qi\$att.pr</span>: the simulated average predicted
        treatment effect for the treated from conditional prediction
        models.

How to Cite {#how-to-cite .unnumbered}
-----------

See also {#see-also .unnumbered}
--------

The normal model is part of the stats package by @VenRip02. Advanced
users may wish to refer to `help(glm)` and `help(family)`, as well as
@McCNel89. Robust standard errors are implemented via the sandwich
package by @Zeileis04. Sample data are from @KinTomWit00.
