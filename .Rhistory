library(Zelig5)
roxygen2::roxygenize('.', roclets=c('rd', 'namespace'))
roxygen2::roxygenize('.')
devtools::document()
zls
devtools::install_github("klutometis/roxygen")
roxygen2::roxygenise()
setwd("~/Documents/LocalGit/Zelig5/R")
roxygen2::roxygenise()
setwd("..")
roxygen2::roxygenise()
debug(roxygenise)
roxygen2::roxygenise()
parse_package
devtools::parse_package
devtools:::parse_package
devtools:::package_url
undebug(roxygenise)
roxygen2::roxygenise()
roxygen2::roxygenise()
roxygen2::roxygenise()
roxygen2::roxygenise()
roxygen2::roxygenise()
roxygen2::roxygenise()
library(Zelig5)
devtools::document()
cat(toJSON(zeligmodels, pretty = TRUE),
file = file.path("JSON", "zelig5models.json"))
z5tobit$toJSON()
roxygen2::roxygenise()
devtools::document()
setwd("~/Documents/LocalGit/Zelig5/R")
roxygen2::roxygenise()
roxygen2::roxygenise("..")
split
#' first differences, along with the associated measures of uncertainty
g <- airquality$Month
l <- split(airquality, g)
l
require(zelig)
require(Zelig)
divide
Zelig:::divide
split
l <- lapply(l, transform, Oz.Z = scale(Ozone))
l
library(Zelig5)
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx(speed = 30)
z5$setx()
z5$setx()
z5$setx(speed = 30)
z5$setx.out
set.seed(42)
z5$sim(num=100)
z5
.self <- z5
.self$setx.out
.self$simparam %*% t(.self$setx.out)
ev <- .self$simparam %*% t(.self$setx.out$x)
z5$setx1(speed = 30)
.self$setx.out
z5$setrange(educate = 12:13, age = 18, race = c("white", "others"))
z5$setrange(speed = 30:35)
z5
.self$setx.out
z5 <- zls$new()
z5$zelig(vote ~ race + educate + age + I(age^2) + income, data = turnout)
data(turnout)
z5 <- zls$new()
z5$zelig(vote ~ race + educate + age + I(age^2) + income, data = turnout)
z5
z5$setx(educate = 12, age = 18, race = "others")
z5$setx.out
z5$setx1(educate = 13, age = 18, race = "others")
set.seed(42)
z5$sim(num = 5)
z5$setx.out
z5$setrange(speed = 30:35)
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$setrange(speed = 30:35)
.self <- z5
.self$setx.out
expand.grid(1:5)
s <- list(speed=30:35)
m <- expand.grid(s)
m
.self$setx.out$range
.self$setx.out$range <- list()
i=1
as.list(m[i, ])
as.list(m[2, ])
as.list(m[3, ])
.self$set(as.list(m[i, ]))
z$methods(
library(Zelig5)
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx1(speed = 30)
z5$setx()
z5$setx.out
set.seed(42)
z5$sim(num=100)
# .self <- z5
# z5$ev
# z5$ev("x")
z5$summarize()
z5$cite()
z5$setrange(speed = 30:35)
z5$setx.out
z5$setx1(speed = 30)
z5$setx()
library(Zelig5)
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx1(speed = 30)
z5$setx()
z5$setx.out
z5$setx()
list()
list() == list
list() == list()
length(s) > 0 & is.list(s[[1]])
s
library(Zelig5)
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx1(speed = 30)
z5$setx()
debug(z5$set)
z5$setx()
print(s)
length(s)
length(s) > 0 & is.list(s[[1]])
length(s) > 0 && is.list(s[[1]])
library(Zelig5)
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx1(speed = 30)
z5$setx()
z5$setx.out
z5$setx1(speed = 30)
z5$setx.out
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx.out
z5$setrange(speed = 30:35,speed = 30:35)
z5$setx.out
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$setrange(speed = 30:35,speed = 30:35)
z5$setx.out
z5$setrange(speed = 30:32,speed = 30:32)
z5
z5$setx.out
expand.grid(speed = 30:32,speed = 30:32)
is.list(1:5)
library(Zelig5)
library(Zelig5)
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx.out
set.seed(42)
z5$sim(num=100)
library(Zelig5)
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
set.seed(42)
z5$sim(num=100)
z5$summarize()
library(Zelig)
z.out <- zelig(dist ~ speed, cars, model = "ls")
summary(z.out)
x.out <- setx(z.out, speed = 30)
set.seed(42)
s.out <- sim(z.out, x.out, num = 100)
summary(s.out)
s.out$qi
str(s.out)
s.out$result
s.out$qi$Expected Values: E(Y|X)
s.out$qi
s.out$qi[[1]]
s.out$qi[[1]]
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx1(speed = 30)
z5$setx()
z5$setx.out
set.seed(42)
z5$sim(num=100)
# .self <- z5
# z5$ev
# z5$ev("x")
z5$summarize()
z5$cite()
z5$cite()
z5$summarize()
library(Zelig5)
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx1(speed = 30)
z5$setx()
z5$setx.out
z5$sim(num=100)
z5$summarize()
library(Zelig5)
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx1(speed = 30)
z5$setx()
z5$setx.out
z5$summarize()
z5$sim.out
library(Zelig5)
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx1(speed = 30)
z5$setx.out
z5$sim(num=100)
z5$summarize()
seq(list(1, 3, 4))
lr
z$methods(
sim = function(num = 1000) {
.self$num <- num
.self$param(num = .self$num)
.self$qi.out <- list()
if (!is.null(.self$setx.out$x)) {
l1 <- .self$qi(.self$simparam, .self$setx.out$x)
.self$sim.out$ev <- l1[[1]]
.self$sim.out$pv <- l1[[2]]
if (!is.null(.self$setx.out$x1)) {
l2 <- .self$qi(.self$simparam, .self$setx.out$x1)
.self$sim.out$ev1 <- l2[[1]]
.self$sim.out$pv1 <- l2[[2]]
}
} else (!is.null(.self$setx.out$range)) {
.self$sim.out$range <- list()
for (i in seq(.self$setx.out$range)) {
.self$sim.out$range[[i]] <- list()
lr <- .self$qi(.self$simparam, .self$setx.out$range[[i]])
.self$sim.out$range[[i]]$ev <- lr[[1]]
.self$sim.out$range[[i]]$pv <- lr[[2]]
}
}
)
library(Zelig5)
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx1(speed = 30)
z5$setx()
z5$setx.out
set.seed(42)
z5$sim(num=100)
z5$summarize()
z5$cite()
z5$setrange(speed = 30:32,speed = 30:32)
z5$zelig(dist ~ ., data = cars)
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setrange(speed = 30:32,speed = 30:32)
z5$setx.out
z5$sim(num=100)
z5$sim.out
z5$sim(num=3)
z5$sim.out
z5$summarize()
library(Zelig5)
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx1(speed = 30)
z5$sim(num=3)
z5$summarize()
z5 <- zls$new()
library(Zelig5)
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx1(speed = 30)
z5$setx()
z5$setx.out
set.seed(42)
z5$sim(num=3)
z5$summarize()
z5$sim.out
library(Zelig5)
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx1(speed = 30)
z5$setx()
z5$setx.out
set.seed(42)
z5$sim(num=3)
z5$sim.out
# .self <- z5
# z5$ev
# z5$ev("x")
z5$summarize()
z5$cite()
library(Zelig5)
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx1(speed = 30)
z5$setx()
z5$setx.out
set.seed(42)
z5$sim(num=3)
z5$sim.out
# .self <- z5
# z5$ev
# z5$ev("x")
z5$summarize()
z5$summarise()
library(Zelig5)
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx1(speed = 30)
z5$setx()
z5$setx.out
set.seed(42)
z5$sim(num=3)
z5$sim.out
# .self <- z5
# z5$ev
# z5$ev("x")
z5$summarize()
z5$summarise()
library(Zelig5)
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx1(speed = 30)
z5$setx()
z5$setx.out
set.seed(42)
z5$sim(num=3)
z5$sim.out
z5$summarize()
z5$cite()
z5$sim.out
.self <- z5
.self$qi.out
idx <- match(names(.self$setx.labels), names(.self$sim.out), nomatch = 0)
names(.self$qi.out)[idx] <- .self$setx.labels[idx != 0]
names(.self$sim.out)[idx] <- .self$setx.labels[idx != 0]
.self$summarize()
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$summarize()
z5$cite()
z5$setrange(speed = 30:32,speed = 30:32)
set.seed(42)
z5$setx.out
z5$setx.out
set.seed(42)
z5$sim(num=3)
z5$sim.out
z5$summarize()
z5$sim.out
library(Zelig5)
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx1(speed = 30)
z5$setx()
z5$setx.out
set.seed(42)
z5$sim(num=3)
z5$sim.out
z5$summarize()
z5$cite()
library(Zelig5)
library(Zelig5)
p <- read.csv("http://www.ats.ucla.edu/stat/data/poisson_sim.csv")
p <- within(p, {
prog <- factor(prog, levels = 1:3,
labels = c("General", "Academic", "Vocational"))
id <- factor(id)
})
head(p)
library(MASS)
w <- runif(200)
z5 <- zpoisson$new()
z5$zelig(num_awards ~ prog + math, data=p,
weights=w)
z5
z5$zelig.call
z5$model.call
z5$setx(math = 40)
set.seed(42)
z5$sim(num = 1000)
library(Zelig5)
z5 <- zpoisson$new()
z5$zelig(num_awards ~ prog + math, data=p,
weights=w)
z5
z5$zelig.call
z5$model.call
z5$setx(math = 40)
set.seed(42)
z5$sim(num = 1000)
z5$summarize()
library(Zelig)
z.out <- zelig(num_awards ~ prog + math, data=p, model="poisson",
weights=w)
summary(z.out)
x.out <- setx(z.out, math = 40)
set.seed(42)
s.out <- sim(z.out, x = x.out, num = 1000)
summary(s.out)
setwd("~/Documents/LocalGit/Zelig5/test")
