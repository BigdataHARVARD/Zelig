install.packages("MatchIt")
install.packages("Amelia")
install.packages("WhatIf")
install.packages("rdd")
install.packages("sem")
install.packages("lmtest")
library(ggplot2)
max_iter=25
cl=colours()
step=seq(-2,0.8,by=0.005)
points=array(0,dim=c(length(step)^2,3))
t=0
for(a in step)
{
for(b in step+0.6)
{
x=0;y=0;n=0;dist=0
while(n<max_iter & dist<4)
{
n=n+1
newx=a+x^2-y^2
newy=b+2*x*y
dist=newx^2+newy^2
x=newx;y=newy
}
if(dist<4)
{
color=24 # black
}
else
{
color=n*floor(length(cl)/max_iter)
}
t=t+1
points[t,]=c(a,b,color)
}
}
install.packages("~/Documents/LocalGit/GitHub/Zelig5Loc/Zelig5_0.1.tar.gz", repos = NULL, type = "source")
library(Zelig5)
p <- read.csv("http://www.ats.ucla.edu/stat/data/poisson_sim.csv")
p <- within(p, {
prog <- factor(prog, levels = 1:3,
labels = c("General", "Academic", "Vocational"))
id <- factor(id)
})
head(p)
w <- runif(200)
# Zelig 5 code:
z5 <- zpoisson$new()
z5$zelig(num_awards ~ prog + math, data=p,
weights=w)
z5
z5$zelig.call
z5$model.call
z5$setx(math=40)
set.seed(42)
z5$sim(num=100)
z5$summarize()
z5$cite()
data(sanction)
z5 <- zbprobit$new()
z5$zelig(cbind(import, export) ~ coop + cost + target, data = sanction)
z5
z5$setx(cost=1)
set.seed(42)
z5$sim(num=1000)
z5 <- zbprobit$new()
install.packages("~/Documents/LocalGit/GitHub/Zelig5Loc/Zelig5_0.1.tar.gz", repos = NULL, type = "source")
library(Zelig5)
data(sanction)
z5 <- zbprobit$new()
z5$zelig(cbind(import, export) ~ coop + cost + target, data = sanction)
z5
z5$setx(cost=1)
set.seed(42)
z5$sim(num=1000)
z5$summarize()
z5$cite()
library(Zelig5)
Zelig5::z
require(devtools)
install_github('seleniumJars', 'LluisRamon')
install_github('relenium', 'LluisRamon')
require(XML)
require(Relenium)
require(relenium)
firefox <- firefoxClass$new()
firefox$get("http://lluisramon.github.io/relenium/toyPageExample.html")
firefox$printHtml()
inputElement <- firefox$findElementByXPath("//*[@id='main_content']/div[1]/form/input")
inputElement$sendKeys("R Project")
inputElement$sendKeys(key = "ENTER")
buttonElement <- firefox$findElementByXPath("//*[@id='main_content']/a")
buttonElement$click()
infoTable <- firefox$findElementByXPath("//*[@id='myModal']/div/div/div/table")
readHTMLTable(infoTable$getHtml(), header = TRUE)[[1]] # Using XML Package
buttonElement <- firefox$findElementByXPath("//*[@id='myModal']/div/div/div/button")
buttonElement$click()
selectElement <- firefox$findElementByXPath("//*[@id='main_content']/select")
selectElement$printHtml()
optsList <- selectElement$getOptions()
sapply(optsList, function(optEle){
optEle$getText()
})
selectElement$selectByValue("Mango")
selectElement$selectByValue("Nectarine")
optsSel <- selectElement$getAllSelectedOptions()
sapply(optsSel, function(optEle){
optEle$getText()
})
selectElement$deselectAll()
firefox$get("http://lluisramon.github.io/relenium/")
firefox$back()
firefox$close()
firefox <- firefoxClass$new()
firefox$get("http://ampd.epa.gov/ampd/")
r <- firefox$findElementByLinkText("Query")
r$click()
r$click()
r2 <- firefox$findElementByName("gxt.RadioGroup.0")
r2 <- firefox$findElementByName("gxt.RadioGroup.0")
r2$click()
q <- firefox$findElementByClassName("querybtn")
q$getText()
q$click()
but <- firefox$findElementByXPath("//input[@name='START']
[@type='button']")
buttonElement <- firefox$findElementByXPath("//*[@id='myModal']/div/div/div/button")
firefox$findElementByClassName("x-form-cb-label")
firefox$findElementByClassName("x-form-radio")
r2 <- firefox$findElementByName("gxt.RadioGroup.0")
firefox$findElementByClassName("x-form-radio")
firefox$findElementByClassName("x-form-radio")$check()
firefox$findElementByClassName("x-form-radio")$checked()
firefox$findElementByClassName("x-form-radio")$checked
firefox$findElementByClassName("x-form-radio")
firefox$findElementByClassName("x-form-radio")$value
r <- firefox$findElementByClassName("x-form-radio")
r$click
r$click()
r$click()
r$clear()
r$getId()
r$getText()
r$getHtml()
firefox$findElementByClassName("x-form-cb-label")
install.packages("NMMAPSdata", contriburl = "http://www.ihapss.jhsph.edu/data/NMMAPS/R/", type = "source")
stopifnot
rats <- data.frame(id = paste0("rat",1:10),
sex = factor(rep(c("female","male"),each=5)),
weight = c(2,4,1,11,18,12,7,12,19,20),
length = c(100,105,115,130,95,150,165,180,190,175))
summary(rats)
ratsTable <- data.frame(id = paste0("rat",c(6,9,7,3,5,1,10,4,8,2)),
secretID = 1:10)
ratsTable
match(rats$weight)[ratsTable$id]
rats$weight[match(ratsTable$id, rats$id)]
rats
setwd("~/Documents/LocalGit/Zelig5 GIT")
cluster.formula
survreg.distributions[["exponential"]]$itrans
require(survival)
survreg.distributions[["exponential"]]$itrans
source(file.path("..", "R", "model-exp.R"))
setwd("~/Documents/LocalGit/Zelig5 GIT/test")
source(file.path("..", "R", "utils.R"))
source(file.path("..", "R", "model-zelig.R"))
source(file.path("..", "R", "model-exp.R"))
z.out <- zelig(Surv(duration, ciep12) ~ fract + numst2, model = "exp",
data = coalition)
library(Zelig)
data(coalition)
z.out <- zelig(Surv(duration, ciep12) ~ fract + numst2, model = "exp",
data = coalition)
summary(z.out)
x.low <- setx(z.out, numst2 = 0)
set.seed(42)
s.out <- sim(z.out, x = x.low, num=10)
summary(s.out)
z.out <- zelig(Surv(duration, ciep12) ~ fract + numst2, model = "exp",
data = coalition)
summary(z.out)
x.low <- setx(z.out, numst2 = 0)
set.seed(42)
s.out <- sim(z.out, x = x.low, num=10)
summary(s.out)
z5 <- zexp$new()
z5$zelig(Surv(duration, ciep12) ~ fract + numst2, model = "exp",
data = coalition)
z5
summary(z.out)
z5$setx(numst2 = 0)
require(Formula)
z5$setx(numst2 = 0)
set.seed(42)
z5$sim(num=10)
z5$summarize()
z5$cite()
z5$sim(num=10)
z5$sim.out
mean(z5$sim.out)
mean(z5$sim.out[[1]])
mean(z5$sim.out[[2]])
set.seed(42)
z5$sim(num=10)
mean(z5$sim.out[[2]])
mean(z5$sim.out[[2]])
mean(z5$sim.out[[1]])
summary(s.out)
z5$summarize()
z5$sim.out$Expected Values: E(Y|X)
z5$sim.out[[1]]
z5$sim.out[[2]]
source(file.path("..", "R", "model-exp.R"))
data(coalition)
z5 <- zexp$new()
z5$zelig(Surv(duration, ciep12) ~ fract + numst2, model = "exp",
data = coalition)
z5
z5$setx(numst2 = 0)
set.seed(42)
z5$sim(num=10)
z5$summarize()
summary(s.out)
