z5$zelig.call
z5$zelig(art ~ . | ., data = bioChemists)
fm_zip2 <- zeroinfl(art ~ . | ., data = bioChemists)
summary(fm_zip2)
z5$zelig(art ~ . | 1, data = bioChemists)
z5
names(bioChemists)
z5$zelig(art ~ fem | 1, data = bioChemists)
z5
formula(fm_zip2)
source(file.path("..", "R", "model-ls.R"))
z5 <- zls$new()
z5$zelig(dist ~ speed, data = cars)
z5
source(file.path("..", "R", "utils.R"))
source(file.path("..", "R", "model-zelig.R"))
source(file.path("..", "R", "model-zip.R"))
z5 <- zzip$new()
z5$zelig(art ~ fem | 1, data = bioChemists)
z5
debug(z5$zelig)
z5$zelig(art ~ fem | 1, data = bioChemists)
z5$model.call
zzip <- setRefClass("Zelig-zip", contains = "Zelig")
source(file.path("..", "R", "model-zip.R"))
data("bioChemists", package = "pscl")
## without inflation
## ("art ~ ." is "art ~ fem + mar + kid5 + phd + ment")
fm_pois <- glm(art ~ ., data = bioChemists, family = poisson)
fm_qpois <- glm(art ~ ., data = bioChemists, family = quasipoisson)
fm_nb <- glm.nb(art ~ ., data = bioChemists)
## with simple inflation (no regressors for zero component)
fm_zip <- zeroinfl(art ~ . | 1, data = bioChemists)
fm_zip2 <- zeroinfl(art ~ . | ., data = bioChemists)
summary(fm_zip2)
z5 <- zzip$new()
debug(z5$zelig)
z5$zelig(art ~ fem | 1, data = bioChemists)
zzip <- setRefClass("Zelig-zip", contains = "Zelig")
source(file.path("..", "R", "model-zip.R"))
z5$zelig(art ~ fem | 1, data = bioChemists)
source(file.path("..", "R", "utils.R"))
source(file.path("..", "R", "model-zelig.R"))
source(file.path("..", "R", "model-zip.R"))
data("bioChemists", package = "pscl")
## without inflation
## ("art ~ ." is "art ~ fem + mar + kid5 + phd + ment")
fm_pois <- glm(art ~ ., data = bioChemists, family = poisson)
fm_qpois <- glm(art ~ ., data = bioChemists, family = quasipoisson)
fm_nb <- glm.nb(art ~ ., data = bioChemists)
## with simple inflation (no regressors for zero component)
fm_zip <- zeroinfl(art ~ . | 1, data = bioChemists)
fm_zip2 <- zeroinfl(art ~ . | ., data = bioChemists)
summary(fm_zip2)
z5 <- zzip$new()
z5$zelig(art ~ fem | 1, data = bioChemists)
z5
z5$zelig(art ~ . | . | 1, data = bioChemists)
z5$zelig(art ~ . | . , data = bioChemists)
z5
View(bioChemists)
z5$setx(phd = 3)
z5$setx()
model.frame(z5)
model.frame(z5$zelig.out)
names(model.frame(z5$zelig.out))
.self <- z5$zelig.out
.self$formula[[3]]
.self$data
.self$formula[[2]]
.self$formula[[1]]
.self$formula[[3]]
.self$formula[[4]]
source(file.path("..", "R", "utils.R"))
source(file.path("..", "R", "model-zelig.R"))
source(file.path("..", "R", "model-ls.R"))
z5 <- zls$new()
z5$zelig(dist ~ speed, data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx(speed = 30)
z5$setx()
z5$setx.out
set.seed(42)
z5$sim(num=100)
z5$summarize()
z5$cite()
source(file.path("..", "R", "model-zip.R"))
data("bioChemists", package = "pscl")
## without inflation
## ("art ~ ." is "art ~ fem + mar + kid5 + phd + ment")
fm_pois <- glm(art ~ ., data = bioChemists, family = poisson)
fm_qpois <- glm(art ~ ., data = bioChemists, family = quasipoisson)
fm_nb <- glm.nb(art ~ ., data = bioChemists)
## with simple inflation (no regressors for zero component)
fm_zip <- zeroinfl(art ~ . | 1, data = bioChemists)
fm_zip2 <- zeroinfl(art ~ . | ., data = bioChemists)
summary(fm_zip2)
z5 <- zzip$new()
z5$zelig(art ~ . | . , data = bioChemists)
z5
z5$setx()
names(model.frame(z5$zelig.out))
n <- names(model.frame(z5$zelig.out))
debug(z5$setx)
debug(z5$set)
z5$setx()
print(n)
print(m)
.self
formula(.self)
formula(.self)[1]
formula(.self)[2]
formula(.self)[3]
formula(.self$zelig.out)
formula(.self)
formula(.self)[1]
formula(.self)[2]
source(file.path("..", "R", "utils.R"))
source(file.path("..", "R", "model-zelig.R"))
source(file.path("..", "R", "model-ls.R"))
source(file.path("..", "R", "utils.R"))
source(file.path("..", "R", "model-zelig.R"))
source(file.path("..", "R", "model-ls.R"))
source(file.path("..", "R", "utils.R"))
source(file.path("..", "R", "model-zelig.R"))
source(file.path("..", "R", "model-ls.R"))
# Zelig 4 code:
library(Zelig)
z.out <- zelig(dist ~ speed, cars, model = "ls")
summary(z.out)
x.out <- setx(z.out, speed = 30)
set.seed(42)
s.out <- sim(z.out, x.out, num = 100)
summary(s.out)
# Zelig 5 code:
z5 <- zls$new()
z5$zelig(dist ~ speed, data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
formula(.self$zelig.out)[2]
formula(.self)[2]
formula(.self)[2] <- 1
update(formula(.self)[2], 1)
update(formula(.self)[2])
terms.formula(.self)[2])
terms.formula(.self)[2])
terms.formula(.self)
formula(.self)
f <- formula(.self)
f[2]
f[1]
f[3]
f[2] <- 1
f
source(file.path("..", "R", "utils.R"))
source(file.path("..", "R", "model-zelig.R"))
source(file.path("..", "R", "model-ls.R"))
z5 <- zls$new()
z5$zelig(dist ~ speed, data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx.out
set.seed(42)
z5$sim(num=100)
source(file.path("..", "R", "utils.R"))
source(file.path("..", "R", "model-zelig.R"))
source(file.path("..", "R", "model-zip.R"))
data("bioChemists", package = "pscl")
## without inflation
## ("art ~ ." is "art ~ fem + mar + kid5 + phd + ment")
fm_pois <- glm(art ~ ., data = bioChemists, family = poisson)
fm_qpois <- glm(art ~ ., data = bioChemists, family = quasipoisson)
fm_nb <- glm.nb(art ~ ., data = bioChemists)
## with simple inflation (no regressors for zero component)
fm_zip <- zeroinfl(art ~ . | 1, data = bioChemists)
fm_zip2 <- zeroinfl(art ~ . | ., data = bioChemists)
summary(fm_zip2)
z5 <- zzip$new()
z5$zelig(art ~ . | . , data = bioChemists)
z5
z5$setx()
source(file.path("..", "R", "utils.R"))
source(file.path("..", "R", "model-zelig.R"))
source(file.path("..", "R", "model-ls.R"))
# Zelig 4 code:
library(Zelig)
z.out <- zelig(dist ~ speed, cars, model = "ls")
summary(z.out)
x.out <- setx(z.out, speed = 30)
set.seed(42)
s.out <- sim(z.out, x.out, num = 100)
summary(s.out)
# Zelig 5 code:
z5 <- zls$new()
z5$zelig(dist ~ speed, data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx(speed = 30)
z5$setx()
z5$setx.out
set.seed(42)
z5$sim(num=100)
z5$summarize()
data("bioChemists", package = "pscl")
## without inflation
## ("art ~ ." is "art ~ fem + mar + kid5 + phd + ment")
fm_pois <- glm(art ~ ., data = bioChemists, family = poisson)
fm_qpois <- glm(art ~ ., data = bioChemists, family = quasipoisson)
fm_nb <- glm.nb(art ~ ., data = bioChemists)
## with simple inflation (no regressors for zero component)
fm_zip <- zeroinfl(art ~ . | 1, data = bioChemists)
fm_zip2 <- zeroinfl(art ~ . | ., data = bioChemists)
summary(fm_zip2)
z5 <- zzip$new()
z5$zelig(art ~ . | . , data = bioChemists)
source(file.path("..", "R", "utils.R"))
source(file.path("..", "R", "model-zelig.R"))
source(file.path("..", "R", "model-zip.R"))
data("bioChemists", package = "pscl")
## without inflation
## ("art ~ ." is "art ~ fem + mar + kid5 + phd + ment")
fm_pois <- glm(art ~ ., data = bioChemists, family = poisson)
fm_qpois <- glm(art ~ ., data = bioChemists, family = quasipoisson)
fm_nb <- glm.nb(art ~ ., data = bioChemists)
## with simple inflation (no regressors for zero component)
fm_zip <- zeroinfl(art ~ . | 1, data = bioChemists)
fm_zip2 <- zeroinfl(art ~ . | ., data = bioChemists)
summary(fm_zip2)
z5 <- zzip$new()
z5$zelig(art ~ . | . , data = bioChemists)
z5
z5$setx()
debug(z5$set)
z5$setx()
print(f)
print(f)
model.matrix(f, ldata)
model.matrix(z5$zelig.out)
model.frame(z5$zelig.out)
source(file.path("..", "R", "utils.R"))
source(file.path("..", "R", "model-zelig.R"))
source(file.path("..", "R", "model-ls.R"))
# Zelig 4 code:
library(Zelig)
z.out <- zelig(dist ~ speed, cars, model = "ls")
summary(z.out)
x.out <- setx(z.out, speed = 30)
set.seed(42)
s.out <- sim(z.out, x.out, num = 100)
summary(s.out)
# Zelig 5 code:
z5 <- zls$new()
z5$zelig(dist ~ speed, data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx(speed = 30)
z5$setx()
z5$setx.out
set.seed(42)
z5$setx(speed = 30)
set.seed(42)
z5$setx.out
model.matrix(~ ., )
model.matrix(~ ., bioChemists)
f
source(file.path("..", "R", "model-zip.R"))
z5 <- zzip$new()
z5$zelig(art ~ . | . , data = bioChemists)
z5
z5$setx()
f
m
source(file.path("..", "R", "model-zip.R"))
z5 <- zzip$new()
z5$zelig(art ~ . | . , data = bioChemists)
z5
z5$setx()
source(file.path("..", "R", "utils.R"))
source(file.path("..", "R", "model-zelig.R"))
source(file.path("..", "R", "model-zip.R"))
data("bioChemists", package = "pscl")
## without inflation
## ("art ~ ." is "art ~ fem + mar + kid5 + phd + ment")
fm_pois <- glm(art ~ ., data = bioChemists, family = poisson)
fm_qpois <- glm(art ~ ., data = bioChemists, family = quasipoisson)
fm_nb <- glm.nb(art ~ ., data = bioChemists)
## with simple inflation (no regressors for zero component)
fm_zip <- zeroinfl(art ~ . | 1, data = bioChemists)
fm_zip2 <- zeroinfl(art ~ . | ., data = bioChemists)
summary(fm_zip2)
z5 <- zzip$new()
z5$zelig(art ~ . | . , data = bioChemists)
z5
z5$setx()
f
source(file.path("..", "R", "utils.R"))
source(file.path("..", "R", "model-zelig.R"))
source(file.path("..", "R", "model-zip.R"))
z5 <- zzip$new()
z5$zelig(art ~ . | . , data = bioChemists)
z5
z5$setx()
f
m
n
z5$set()
m
cars
z5$zelig(dist ~ ., data = cars)
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5 <- zls$new()
source(file.path("..", "R", "utils.R"))
source(file.path("..", "R", "model-zelig.R"))
source(file.path("..", "R", "model-ls.R"))
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx(speed = 30)
z5$setx()
z5$setx.out
z5$setx()
z5$setx.out
set.seed(42)
z5$sim(num=100)
z5$summarize()
z5$setx(speed = 30)
z5$sim(num=100)
z5$summarize()
z5$cite()
summary(s.out)
z.out <- zelig(dist ~ speed, cars, model = "ls")
summary(z.out)
x.out <- setx(z.out, speed = 30)
set.seed(42)
s.out <- sim(z.out, x.out, num = 100)
summary(s.out)
n
source(file.path("..", "R", "utils.R"))
source(file.path("..", "R", "model-zelig.R"))
source(file.path("..", "R", "model-zip.R"))
data("bioChemists", package = "pscl")
z5 <- zzip$new()
z5$zelig(art ~ . | . , data = bioChemists)
z5
z5$setx()
source(file.path("..", "R", "model-zip.R"))
data("bioChemists", package = "pscl")
## without inflation
## ("art ~ ." is "art ~ fem + mar + kid5 + phd + ment")
fm_pois <- glm(art ~ ., data = bioChemists, family = poisson)
fm_qpois <- glm(art ~ ., data = bioChemists, family = quasipoisson)
fm_nb <- glm.nb(art ~ ., data = bioChemists)
## with simple inflation (no regressors for zero component)
fm_zip <- zeroinfl(art ~ . | 1, data = bioChemists)
fm_zip2 <- zeroinfl(art ~ . | ., data = bioChemists)
summary(fm_zip2)
z5 <- zzip$new()
z5$zelig(art ~ . | . , data = bioChemists)
z5
z5$setx()
source(file.path("..", "R", "model-zip.R"))
source(file.path("..", "R", "utils.R"))
source(file.path("..", "R", "model-zelig.R"))
source(file.path("..", "R", "model-zip.R"))
source(file.path("..", "R", "utils.R"))
source(file.path("..", "R", "model-zelig.R"))
source(file.path("..", "R", "model-zip.R"))
data("bioChemists", package = "pscl")
## without inflation
## ("art ~ ." is "art ~ fem + mar + kid5 + phd + ment")
fm_pois <- glm(art ~ ., data = bioChemists, family = poisson)
fm_qpois <- glm(art ~ ., data = bioChemists, family = quasipoisson)
fm_nb <- glm.nb(art ~ ., data = bioChemists)
## with simple inflation (no regressors for zero component)
fm_zip <- zeroinfl(art ~ . | 1, data = bioChemists)
fm_zip2 <- zeroinfl(art ~ . | ., data = bioChemists)
summary(fm_zip2)
z5 <- zzip$new()
z5$zelig(art ~ . | . , data = bioChemists)
z5
z5$setx()
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx(speed = 30)
z5$setx()
source(file.path("..", "R", "model-zip.R"))
fm_zip <- zeroinfl(art ~ . | 1, data = bioChemists)
fm_zip2 <- zeroinfl(art ~ . | ., data = bioChemists)
summary(fm_zip2)
z5 <- zzip$new()
z5$zelig(art ~ . | . , data = bioChemists)
z5
z5$setx()
f
source(file.path("..", "R", "utils.R"))
source(file.path("..", "R", "model-zelig.R"))
source(file.path("..", "R", "model-zip.R"))
z5 <- zzip$new()
z5$zelig(art ~ . | . , data = bioChemists)
z5
z5$setx()
f
gf
ldata
gldata
model.matrix(gf, gldata)
model.matrix(gf, gldata)
f[1]
gf[1]
gf[2]
gf[3]
model.matrix(age ~ phd, gldata)
model.matrix(formula(age ~ phd), gldata)
names(bioChemists)
model.matrix(art ~ phd, gldata)
model.matrix(art ~ ., gldata)
model.matrix(art ~ .| ., gldata)
model.matrix(art ~ , gldata)
model.matrix(art ~ ., gldata)
require(Formula)
GF <- as.Formula(gf)
GF
GF[1]
GF[2]
GF[3]
GF[4]
GF[3]
gf[3]
Formula(GF, rhs)
formula(GF, rhs = 1)
formula(as.Formula(gf), rhs = 1)
gf
f
gf
source(file.path("..", "R", "utils.R"))
source(file.path("..", "R", "model-zelig.R"))
source(file.path("..", "R", "model-zip.R"))
data("bioChemists", package = "pscl")
z5 <- zzip$new()
z5$zelig(art ~ . | . , data = bioChemists)
z5
z5$setx()
z5$setx.out
z5$sim()
z5$setx()
source(file.path("..", "R", "utils.R"))
source(file.path("..", "R", "model-zelig.R"))
source(file.path("..", "R", "model-ls.R"))
# Zelig 5 code:
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx(speed = 30)
z5$setx()
z5$setx.out
set.seed(42)
z5$sim(num=100)
z5$summarize()
z5$cite()
z5$setx(speed = 30)
z5$sim(num=100)
z5$summarize()
z5$setx(speed = 30)
z5$sim(num=100)
z5$summarize()
z5$setx(speed = 30)
z5$setx()
z5$setx.out
gf
gladta
gldata
z5$setx(speed = 30)
z5 <- zls$new()
z5$zelig(dist ~ ., data = cars)
z5
z5$model.call
z5$zelig.call
z5$setx(sascxasx = 9879, speed = 30, sdjchbsdc = 87, kcsbc = 8787)
z5$setx(sascxasx = 9879)
z5$setx(speed = 30)
z5$setx.out
z5$setx(speed = 30)
z5$zelig(dist ~ ., data = cars)
z5$setx(speed = 30)
