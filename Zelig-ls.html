
<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Zelig-ls &mdash; Zelig 5.0.1 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="static/my-styles.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '5.0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="Zelig 5.0.1 documentation" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

<a href="https://github.com/IQSS/Zelig5"><img style="position: absolute; top: 45px; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"" alt="Fork me on GitHub"></a>
<div id="navbar" class="navbar-inverse navbar-default navbar-fixed-top">

    <div class="container">

      <div class="navbar-header">

        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>

        <!-- <a class="logo"> <img height="32" width="32" src="http://datascience.iq.harvard.edu/files/styles/os_files_small/public/datascience/files/zelig-small_1.png?itok=catC420a" /></a> -->
        <a class="navbar-brand" href="index.html">Zelig</a>
        <span class="navbar-text navbar-version pull-left"><b>5</b></span>
      </div>
        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
                <li><a href="http://datascience.iq.harvard.edu">Data Science at IQSS</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart Guide</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#loading-zelig">Loading Zelig</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#running-models">Running Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="quickstart.html#zelig5-model-reference">Zelig5 Model Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation &amp; Quickstart</a><ul>
<li class="toctree-l2"><a class="reference internal" href="installation.html#id1">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#quickstart-guide">Quickstart Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="installation.html#running-models">Running Models</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-do-i-cite-zelig">How do I cite Zelig?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#why-cant-i-install-zelig">Why can’t I install Zelig?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#why-cant-i-install-r">Why can’t I install R?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#why-cant-i-load-data">Why can’t I load data?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#how-do-i-increase-the-memory-for-r">How do I increase the memory for R?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#why-doesnt-the-pdf-print-properly">Why doesn’t the pdf print properly?</a></li>
<li class="toctree-l2"><a class="reference internal" href="faq.html#r-is-neat-how-can-i-find-out-more">R is neat. How can I find out more?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About Zelig</a><ul>
<li class="toctree-l2"><a class="reference internal" href="about.html#technical-vision">Technical Vision</a></li>
<li class="toctree-l2"><a class="reference internal" href="about.html#release-notes">Release Notes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="vignette.html">Model vignettes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#zelig-exp">zelig-exp</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#zelig-gamma">zelig-gamma</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#zelig-logit">zelig-logit</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#zelig-lognorm">zelig-lognorm</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#zelig-ls">Zelig-ls</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="vignette.html#normal-normal-regression-for-continuous-dependent-variables">normal: Normal Regression for Continuous Dependent Variables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id25">Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id26">Additional Inputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id27">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id28">Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id29">Quantities of Interest</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id30">Output Values</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="vignette.html#poisson-poisson-regression-for-event-count-dependent-variables">poisson: Poisson Regression for Event Count Dependent Variables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id31">Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id32">Additional Inputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id33">Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id34">Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id35">Quantities of Interest</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id36">Output Values</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="vignette.html#probit-probit-regression-for-dichotomous-dependent-variables">probit: Probit Regression for Dichotomous Dependent Variables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id37">Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id38">Additional Inputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id39">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id40">Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id41">Quantities of Interest</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id42">Output Values</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="vignette.html#relogit-rare-events-logistic-regression-for-dichotomous-dependent-variables">relogit: Rare Events Logistic Regression for Dichotomous Dependent Variables</a><ul>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id43">Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#arguments">Arguments</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#example-1-one-tau-with-prior-correction-and-bias-correction">Example 1: One Tau with Prior Correction and Bias Correction</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#example-2-one-tau-with-weighting-robust-standard-errors-and-bias-correction">Example 2: One Tau with Weighting, Robust Standard Errors, and Bias Correction</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#example-3-two-taus-with-bias-correction-and-prior-correction">Example 3: Two Taus with Bias Correction and Prior Correction</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id44">Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id45">Quantities of Interest</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id46">Output Values</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#differences-with-stata-version">Differences with Stata Version</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="vignette.html#tobit-linear-regression-for-a-left-censored-dependent-variable"><tt class="docutils literal"><span class="pre">tobit</span></tt>: Linear Regression for a Left-Censored Dependent Variable</a><ul>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id47">Syntax</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#inputs">Inputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id48">Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id49">Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id50">Quantities of Interest</a></li>
<li class="toctree-l2"><a class="reference internal" href="vignette.html#id51">Output Values</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">Zelig-ls</a><ul>
<li><a class="reference internal" href="#syntax">Syntax</a></li>
<li><a class="reference internal" href="#examples">Examples</a><ul>
<li><a class="reference internal" href="#basic-example-with-first-differences">Basic Example with First Differences</a></li>
<li><a class="reference internal" href="#using-dummy-variables">Using Dummy Variables</a></li>
</ul>
</li>
<li><a class="reference internal" href="#model">Model</a></li>
<li><a class="reference internal" href="#quantities-of-interest">Quantities of Interest</a></li>
<li><a class="reference internal" href="#output-values">Output Values</a></li>
<li><a class="reference internal" href="#see-also">See also</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          

        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul>
<li class="toctree-l1"><a class="reference internal" href="quickstart.html">Quickstart Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation &amp; Quickstart</a></li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About Zelig</a></li>
<li class="toctree-l1"><a class="reference internal" href="vignette.html">Model vignettes</a></li>
<li class="toctree-l1"><a class="reference internal" href="vignette.html#normal-normal-regression-for-continuous-dependent-variables">normal: Normal Regression for Continuous Dependent Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="vignette.html#poisson-poisson-regression-for-event-count-dependent-variables">poisson: Poisson Regression for Event Count Dependent Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="vignette.html#probit-probit-regression-for-dichotomous-dependent-variables">probit: Probit Regression for Dichotomous Dependent Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="vignette.html#relogit-rare-events-logistic-regression-for-dichotomous-dependent-variables">relogit: Rare Events Logistic Regression for Dichotomous Dependent Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="vignette.html#tobit-linear-regression-for-a-left-censored-dependent-variable"><tt class="docutils literal"><span class="pre">tobit</span></tt>: Linear Regression for a Left-Censored Dependent Variable</a></li>
</ul>

<form action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="col-md-9">
      
  <div class="section" id="zelig-ls">
<h1>Zelig-ls<a class="headerlink" href="#zelig-ls" title="Permalink to this headline">¶</a></h1>
<p>Least Squares Regression for Continuous Dependent Variables</p>
<p>Use least squares regression analysis to estimate the best linear
predictor for the specified dependent variables.</p>
<div class="section" id="syntax">
<h2>Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<div class="highlight-r"><div class="highlight"><pre>z.out <span class="o">&lt;-</span> zelig<span class="p">(</span>Y <span class="o">~</span> X1 <span class="o">+</span> X2<span class="p">,</span> model <span class="o">=</span> <span class="s">&quot;ls&quot;</span><span class="p">,</span> data <span class="o">=</span> mydata<span class="p">)</span>
x.out <span class="o">&lt;-</span> setx<span class="p">(</span>z.out<span class="p">)</span>
s.out <span class="o">&lt;-</span> sim<span class="p">(</span>z.out<span class="p">,</span> x <span class="o">=</span> x.out<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<div class="section" id="basic-example-with-first-differences">
<h3>Basic Example with First Differences<a class="headerlink" href="#basic-example-with-first-differences" title="Permalink to this headline">¶</a></h3>
<p>Attach sample data:</p>
<div class="highlight-r"><div class="highlight"><pre>library<span class="p">(</span>Zelig5<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="c">## Loading required package: methods</span>
<span class="c">## Loading required package: MASS</span>
<span class="c">## Loading required package: survival</span>
<span class="c">## Loading required package: splines</span>
<span class="c">## Loading required package: VGAM</span>
<span class="c">## Loading required package: stats4</span>
<span class="c">## Loading required package: jsonlite</span>
<span class="c">##</span>
<span class="c">## Attaching package: &#39;jsonlite&#39;</span>
<span class="c">##</span>
<span class="c">## The following object is masked from &#39;package:utils&#39;:</span>
<span class="c">##</span>
<span class="c">##     View</span>
<span class="c">##</span>
<span class="c">## Loading required package: AER</span>
<span class="c">## Loading required package: car</span>
<span class="c">##</span>
<span class="c">## Attaching package: &#39;car&#39;</span>
<span class="c">##</span>
<span class="c">## The following object is masked from &#39;package:VGAM&#39;:</span>
<span class="c">##</span>
<span class="c">##     logit</span>
<span class="c">##</span>
<span class="c">## Loading required package: lmtest</span>
<span class="c">## Loading required package: zoo</span>
<span class="c">##</span>
<span class="c">## Attaching package: &#39;zoo&#39;</span>
<span class="c">##</span>
<span class="c">## The following objects are masked from &#39;package:base&#39;:</span>
<span class="c">##</span>
<span class="c">##     as.Date, as.Date.numeric</span>
<span class="c">##</span>
<span class="c">##</span>
<span class="c">## Attaching package: &#39;lmtest&#39;</span>
<span class="c">##</span>
<span class="c">## The following object is masked from &#39;package:VGAM&#39;:</span>
<span class="c">##</span>
<span class="c">##     lrtest</span>
<span class="c">##</span>
<span class="c">## Loading required package: sandwich</span>
<span class="c">##</span>
<span class="c">## Attaching package: &#39;AER&#39;</span>
<span class="c">##</span>
<span class="c">## The following object is masked from &#39;package:VGAM&#39;:</span>
<span class="c">##</span>
<span class="c">##     tobit</span>
<span class="c">##</span>
<span class="c">## Loading required package: plyr</span>
<span class="c">## Loading required package: dplyr</span>
<span class="c">##</span>
<span class="c">## Attaching package: &#39;dplyr&#39;</span>
<span class="c">##</span>
<span class="c">## The following objects are masked from &#39;package:plyr&#39;:</span>
<span class="c">##</span>
<span class="c">##     arrange, desc, failwith, id, mutate, summarise, summarize</span>
<span class="c">##</span>
<span class="c">## The following object is masked from &#39;package:MASS&#39;:</span>
<span class="c">##</span>
<span class="c">##     select</span>
<span class="c">##</span>
<span class="c">## The following objects are masked from &#39;package:stats&#39;:</span>
<span class="c">##</span>
<span class="c">##     filter, lag</span>
<span class="c">##</span>
<span class="c">## The following objects are masked from &#39;package:base&#39;:</span>
<span class="c">##</span>
<span class="c">##     intersect, setdiff, setequal, union</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="c">## Warning: replacing previous import by &#39;VGAM::show&#39; when loading &#39;Zelig5&#39;</span>
<span class="c">## Warning: replacing previous import by &#39;AER::tobit&#39; when loading &#39;Zelig5&#39;</span>
<span class="c">## Warning: replacing previous import by &#39;quantreg::untangle.specials&#39; when loading &#39;Zelig5&#39;</span>
<span class="c">## Warning: replacing previous import by &#39;dplyr::arrange&#39; when loading &#39;Zelig5&#39;</span>
<span class="c">## Warning: replacing previous import by &#39;dplyr::desc&#39; when loading &#39;Zelig5&#39;</span>
<span class="c">## Warning: replacing previous import by &#39;dplyr::failwith&#39; when loading &#39;Zelig5&#39;</span>
<span class="c">## Warning: replacing previous import by &#39;dplyr::id&#39; when loading &#39;Zelig5&#39;</span>
<span class="c">## Warning: replacing previous import by &#39;dplyr::mutate&#39; when loading &#39;Zelig5&#39;</span>
<span class="c">## Warning: replacing previous import by &#39;dplyr::select&#39; when loading &#39;Zelig5&#39;</span>
<span class="c">## Warning: replacing previous import by &#39;dplyr::summarise&#39; when loading &#39;Zelig5&#39;</span>
<span class="c">## Warning: replacing previous import by &#39;dplyr::summarize&#39; when loading &#39;Zelig5&#39;</span>
<span class="c">## Warning: replacing previous import by &#39;methods::setRefClass&#39; when loading &#39;Zelig5&#39;</span>
</pre></div>
</div>
<div class="highlight-r"><div class="highlight"><pre>data<span class="p">(</span>macro<span class="p">)</span>
</pre></div>
</div>
<p>Estimate model:</p>
<div class="highlight-r"><div class="highlight"><pre>z.out1 <span class="o">&lt;-</span> zelig<span class="p">(</span>unem <span class="o">~</span> gdp <span class="o">+</span> capmob <span class="o">+</span> trade<span class="p">,</span> model <span class="o">=</span> <span class="s">&quot;ls&quot;</span><span class="p">,</span> data <span class="o">=</span> macro<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="c">## How to cite this model in Zelig:</span>
<span class="c">##   Kosuke Imai, Gary King, and Olivia Lau. 2007.</span>
<span class="c">##   ls: Least Squares Regression for Continuous Dependent Variables</span>
<span class="c">##   in Kosuke Imai, Gary King, and Olivia Lau, &quot;Zelig: Everyone&#39;s Statistical Software,&quot;</span>
<span class="c">##   http://datascience.iq.harvard.edu/zelig</span>
</pre></div>
</div>
<p>Summarize regression coefficients:</p>
<div class="highlight-r"><div class="highlight"><pre>summary<span class="p">(</span>z.out1<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="c">## Model: 1</span>
<span class="c">## Call:</span>
<span class="c">## stats::lm(formula = unem ~ gdp + capmob + trade, data = .)</span>
<span class="c">##</span>
<span class="c">## Coefficients:</span>
<span class="c">## (Intercept)          gdp       capmob        trade</span>
<span class="c">##      6.1813      -0.3236       1.4219       0.0199</span>
<span class="c">##</span>
<span class="c">## Next step: Use &#39;setx&#39; method</span>
</pre></div>
</div>
<p>Set explanatory variables to their default (mean/mode) values, with high (80th percentile) and low (20th percentile) values for the trade variable:</p>
<div class="highlight-r"><div class="highlight"><pre>x.high <span class="o">&lt;-</span> setx<span class="p">(</span>z.out1<span class="p">,</span> trade <span class="o">=</span> quantile<span class="p">(</span>macro<span class="o">$</span>trade<span class="p">,</span> <span class="m">0.8</span><span class="p">))</span>
x.low <span class="o">&lt;-</span> setx<span class="p">(</span>z.out1<span class="p">,</span> trade <span class="o">=</span> quantile<span class="p">(</span>macro<span class="o">$</span>trade<span class="p">,</span> <span class="m">0.2</span><span class="p">))</span>
</pre></div>
</div>
<p>Generate first differences for the effect of high versus low trade on GDP:</p>
<div class="highlight-r"><div class="highlight"><pre>s.out1 <span class="o">&lt;-</span> sim<span class="p">(</span>z.out1<span class="p">,</span> x <span class="o">=</span> x.high<span class="p">,</span> x1 <span class="o">=</span> x.low<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="using-dummy-variables">
<h3>Using Dummy Variables<a class="headerlink" href="#using-dummy-variables" title="Permalink to this headline">¶</a></h3>
<p>Estimate a model with fixed effects for each country (see for help
with dummy variables). Note that you do not need to create dummy
variables, as the program will automatically parse the unique values
in the selected variable into discrete levels.</p>
<div class="highlight-r"><div class="highlight"><pre>z.out2 <span class="o">&lt;-</span> zelig<span class="p">(</span>unem <span class="o">~</span> gdp <span class="o">+</span> trade <span class="o">+</span> capmob <span class="o">+</span> country<span class="p">,</span>
                model <span class="o">=</span> <span class="s">&quot;ls&quot;</span><span class="p">,</span> data <span class="o">=</span> macro<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="c">## How to cite this model in Zelig:</span>
<span class="c">##   Kosuke Imai, Gary King, and Olivia Lau. 2007.</span>
<span class="c">##   ls: Least Squares Regression for Continuous Dependent Variables</span>
<span class="c">##   in Kosuke Imai, Gary King, and Olivia Lau, &quot;Zelig: Everyone&#39;s Statistical Software,&quot;</span>
<span class="c">##   http://datascience.iq.harvard.edu/zelig</span>
</pre></div>
</div>
<div class="highlight-r"><div class="highlight"><pre>z.out3 <span class="o">&lt;-</span> zelig<span class="p">(</span>unem <span class="o">~</span> gdp <span class="o">+</span> trade <span class="o">+</span> capmob <span class="o">+</span> as.factor<span class="p">(</span>country<span class="p">),</span>
                model <span class="o">=</span> <span class="s">&quot;ls&quot;</span><span class="p">,</span> data <span class="o">=</span> macro<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="c">## How to cite this model in Zelig:</span>
<span class="c">##   Kosuke Imai, Gary King, and Olivia Lau. 2007.</span>
<span class="c">##   ls: Least Squares Regression for Continuous Dependent Variables</span>
<span class="c">##   in Kosuke Imai, Gary King, and Olivia Lau, &quot;Zelig: Everyone&#39;s Statistical Software,&quot;</span>
<span class="c">##   http://datascience.iq.harvard.edu/zelig</span>
</pre></div>
</div>
<div class="highlight-r"><div class="highlight"><pre>x.US <span class="o">&lt;-</span> setx<span class="p">(</span>z.out3<span class="p">,</span> country <span class="o">=</span> <span class="s">&quot;United States&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Set values for the explanatory variables, using the default
mean/mode values, with country set to the United States and Japan,
respectively:</p>
<div class="highlight-r"><div class="highlight"><pre>x.US <span class="o">&lt;-</span> setx<span class="p">(</span>z.out2<span class="p">,</span> country <span class="o">=</span> <span class="s">&quot;United States&quot;</span><span class="p">)</span>
x.Japan <span class="o">&lt;-</span> setx<span class="p">(</span>z.out2<span class="p">,</span> country <span class="o">=</span> <span class="s">&quot;Japan&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>Simulate quantities of interest:</p>
<div class="highlight-r"><div class="highlight"><pre>s.out2 <span class="o">&lt;-</span> sim<span class="p">(</span>z.out2<span class="p">,</span> x.US<span class="p">,</span> x.Japan<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-r"><div class="highlight"><pre>plot<span class="p">(</span>s.out2<span class="p">)</span>
</pre></div>
</div>
<div class="figure">
<img alt="plot of chunk unnamed-chunk-12" src="_images/unnamed-chunk-12.png" />
<p class="caption">plot of chunk unnamed-chunk-12</p>
</div>
</div>
</div>
<div class="section" id="model">
<h2>Model<a class="headerlink" href="#model" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>The <em>stochastic component</em> is described by a density with mean
$mu_i$ and the common variance <span class="math">\(\sigma^2\)</span></li>
</ul>
<div class="math">
</div>
<p>Y_i ; sim ; f(y_i mid mu_i, sigma^2).</p>
<ul>
<li><p class="first">The <em>systematic component</em> models the conditional mean as</p>
<p>$$mu_i =  x_i beta$$</p>
<p>where $x_i$ is the vector of covariates, and $beta$ is the vector
of coefficients.</p>
<p>The least squares estimator is the best linear predictor of a
dependent variable given $x_i$, and minimizes the sum of squared
residuals, $sum_{i=1}^n (Y_i-x_i beta)^2$.</p>
</li>
</ul>
</div>
<div class="section" id="quantities-of-interest">
<h2>Quantities of Interest<a class="headerlink" href="#quantities-of-interest" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p class="first">The expected value (<cite>qi$ev</cite>) is the mean of simulations
from the stochastic component,</p>
<p>$$E(Y) = x_i beta,$$</p>
<p>given a draw of $beta$ from its sampling distribution.</p>
</li>
<li><p class="first">In conditional prediction models, the average expected treatment
effect (<cite>att.ev</cite>) for the treatment group is</p>
<dl class="docutils">
<dt>$$frac{1}{sum_{i=1}^n t_i}sum_{i:t_i=1}^n left{ Y_i(t_i=1) -</dt>
<dd><p class="first last">E[Y_i(t_i=0)] right},$$</p>
</dd>
</dl>
<p>where $t_i$ is a binary explanatory variable defining the treatment
($t_i=1$) and control ($t_i=0$) groups. Variation in the simulations
are due to uncertainty in simulating $E[Y_i(t_i=0)]$, the
counterfactual expected value of $Y_i$ for observations in the
treatment group, under the assumption that everything stays the same
except that the treatment indicator is switched to $t_i=0$.</p>
</li>
</ul>
</div>
<div class="section" id="output-values">
<h2>Output Values<a class="headerlink" href="#output-values" title="Permalink to this headline">¶</a></h2>
<p>The output of each Zelig command contains useful information which you
may view. For example, if you run
<cite>z.out &lt;- zelig(y ~ x, model = ls, data)</cite>, then you may examine the
available information in <cite>z.out</cite> by using <cite>names(z.out)</cite>, see the
<cite>coefficients</cite> by using <cite>z.out$coefficients</cite>, and
a default summary of information through <cite>summary(z.out)</cite>. Other
elements available through the <cite>$</cite> operator are listed
below.</p>
</div>
<div class="section" id="see-also">
<h2>See also<a class="headerlink" href="#see-also" title="Permalink to this headline">¶</a></h2>
<p>The least squares regression is part of the stats package by William N.
Venables and Brian D. Ripley [&#64;VenRip02]. In addition, advanced users may
wish to refer to <cite>help(lm)</cite> and <cite>help(lm.fit)</cite>. Robust standard errors
are implemented via the sandwich package by Achim Zeileis
[&#64;Zeileis04]. Sample data are from &#64;KinTomWit00.</p>
</div>
</div>


    </div>
      
  </div>
</div>

<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
<div id="sourcelink">
  <a href="_sources/zelig-ls.txt"
     rel="nofollow">Source</a>
</div>
      
    </p>
    <p>
        &copy; Copyright 2014, The Zelig Team.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.2.<br/>
    </p>
  </div>
</footer>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-27761864-7', 'pydata.org');
  ga('send', 'pageview');

</script>



  </body>
</html>